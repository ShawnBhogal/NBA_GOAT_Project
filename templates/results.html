{% extends "layout.html" %}

{% block content %}
<style>
    .results {
        border-collapse: collapse;
        width: 100%;
    }
    td.results-row, th.results-header {
        border: 1px solid #dddddd;
        text-align: left;
        padding: 8px;
    }
    tr:nth-child(even) {
        background-color: #dddddd;
    }
    tr.goat {
        background-color: rgb(236, 185, 138);
    }
</style>
    <div>
        <div align="center">
            <form action="/" method="get" name="calculate-new">
                <input type="submit" value="Calculate New Entry">
            </form>
            <form action="/edit_entry" method="post" name="edit-stats">
                <input type="submit" value="Edit Entry">
            </form>
        </div>
        <!-- <div align="center" style="margin-top: 20px;"> -->
            <!-- <text style="font-weight: bold;">Your Entry:</text> -->
            <!-- {%for stat in weight_dict%} -->
                <!-- <br /><text>{{ cat_name[stat] }}: {{ weight_dict[stat] }}</text> -->
            <!-- {%endfor%} -->
        <!-- </div> -->
        <div align="center">
            <h3 >Results:</h3>
            <table class="results">
                <tr class="results-header-row">
                    <th class="results-header">
                        Rank
                    </th>
                    <th class="results-header">
                        Name
                    </th>
                    <th class="results-header">
                        Final Weighted Score
                    </th>
                    <th class="results-header">
                        {{ ', '.join(stat_names)|safe }}
                    </th>
                </tr>
                <tr class = "goat">
                    <td class="results-row">
                        {{ res[0]['rank'] }} üêê
                    </td>
                    <td class="results-row">
                        {{ res[0]['name'] }}
                    </td>
                    <td class="results-row">
                        {{ res[0]['final'] }}
                    </td>
                    <td class="results-row">
                    {{ ', '.join(res[0]['stats'])|safe }}
                    </td>
                </tr>
                {%for player in res[1:]%}
                    <tr>
                        <td class="results-row">
                            {{ player['rank'] }}
                        </td>
                        <td class="results-row">
                            {{ player['name'] }}
                        </td>
                        <td class="results-row">
                            {{ player['final'] }}
                        </td>
                        <td class="results-row">
                            {{ ', '.join(player['stats'])|safe }}
                        </td>
                    </tr>
                {%endfor%}
            </table>
        </div>

    </div>
{% endblock %}
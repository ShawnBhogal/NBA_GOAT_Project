{% extends "layout.html" %}

{% block content %}
<style>
    .buttons-cont {
        text-align: center;
    }
    .calc-new-button-cont, .edit-button-cont {
        position: relative;
        width: 20%;
        text-align: center;
        padding: 10px;
        margin-left: auto;
        margin-right: auto;
    }
    .calc-new-button, .edit-button {
        display:inline-block;
        padding:0.3em 1.2em;
        border:0.1em solid #FFFFFF;
        margin:0 0.3em 0.3em 0;
        box-sizing: border-box;
        font-family: Poppins;
        color:#FFFFFF;
        background-color:#4eb5f1;
        text-align: center;
        transition: all 0.2s;
        cursor: pointer;
    }

    .calc-new-button{
        background-color:#6e6d6dc4
    }
    .calc-new-button:hover {
        background-color: #424242c4
    }
    .edit-button {
        background-color:#4eb5f1
    }
    .edit-button:hover {
        background-color:#2b89c0
    }

    @media all and (max-width:30em) {
        .edit-button, .calc-new-button {
            display: block;
            margin: 0.4em auto;
        }
    }
    .results-cont {
        text-align: center;
    }
    .results {
        font-family: 'Courier New', Courier, monospace;
        border-collapse: collapse;
        width: 90%;
        margin-left: auto;
        margin-right: auto;
        -webkit-box-shadow: 0px 0px 15px 6px rgba(67,84,91,0.43); 
        box-shadow: 0px 0px 15px 6px rgba(67,84,91,0.43);
        background-color: #f1f1f1a8;
        overflow: visible;
    }
    td.results-row, th.results-header {
        border: 1px solid #5c5b4a44;
        text-align: left;
        padding: 8px;
    }
    tr.results-header-row {
        background-color: transparent;
    }
    tr:nth-child(even) {
        background-color: #dddddd;
    }
    tr.goat {
        font-weight: bold;
        background-color: rgb(255, 229, 83);
    }
</style>
    <div>
        <div class="buttons-cont">
            <form action="/" method="get" name="calculate-new">
                <div class="calc-new-button-cont">
                    <input class="calc-new-button" type="submit" value="Calculate New Entry">
                </div>
            </form>  
            <form action="/edit_entry" method="post" name="edit-stats">
                <div class="edit-button-cont">
                    <input class="edit-button" type="submit" value="Edit Entry">
                </div>
            </form> 
        </div>
        <!-- <div align="center" style="margin-top: 20px;"> -->
            <!-- <text style="font-weight: bold;">Your Entry:</text> -->
            <!-- {%for stat in weight_dict%} -->
                <!-- <br /><text>{{ cat_name[stat] }}: {{ weight_dict[stat] }}</text> -->
            <!-- {%endfor%} -->
        <!-- </div> -->
        <div class="results-cont">
            <h3 >Results:</h3>
            <table class="results">
                <tr class="results-header-row">
                    <th class="results-header">
                        Rank
                    </th>
                    <th class="results-header">
                        Name
                    </th>
                    <th class="results-header">
                        Final Weighted Score
                    </th>
                    <th class="results-header">
                        {{ ', '.join(stat_names)|safe }}
                    </th>
                </tr>
                <tr class = "goat">
                    <td class="results-row">
                        {{ res[0]['rank'] }} üêê
                    </td>
                    <td class="results-row">
                        {{ res[0]['name'] }}
                    </td>
                    <td class="results-row">
                        {{ res[0]['final'] }}
                    </td>
                    <td class="results-row">
                    {{ ', '.join(res[0]['stats'])|safe }}
                    </td>
                </tr>
                {%for player in res[1:]%}
                    <tr>
                        <td class="results-row">
                            {{ player['rank'] }}
                        </td>
                        <td class="results-row">
                            {{ player['name'] }}
                        </td>
                        <td class="results-row">
                            {{ player['final'] }}
                        </td>
                        <td class="results-row">
                            {{ ', '.join(player['stats'])|safe }}
                        </td>
                    </tr>
                {%endfor%}
            </table>
        </div>
    </div>
{% endblock %}